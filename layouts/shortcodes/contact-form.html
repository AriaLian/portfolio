<form id="contact-form" action="https://formspree.io/f/xeovelayz" method="POST" class="w-full max-w-3xl mx-auto" novalidate>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label for="name" class="block text-sm font-medium mb-1">Your name</label>
      <input id="name" name="name" required
             class="block w-full rounded-md border border-neutral/20 bg-transparent px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
    </div>

    <div>
      <label for="email" class="block text-sm font-medium mb-1">Email</label>
      <input id="email" name="email" type="email" required
             class="block w-full rounded-md border border-neutral/20 bg-transparent px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
      <p class="mt-1 text-xs text-neutral/70">This will help me respond to your query via an email.</p>
    </div>

    <div class="md:col-span-2">
      <label for="message" class="block text-sm font-medium mb-1">Message</label>
      <textarea id="message" name="message" rows="6" required
                class="block w-full rounded-md border border-neutral/20 bg-transparent px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"></textarea>
      <p class="mt-1 text-xs text-neutral/70">What would you like to discuss?</p>
    </div>
  </div>

  <div class="mt-6 flex items-center justify-between gap-4">
    <p id="form-status" role="status" aria-live="polite" class="text-sm text-neutral/80"></p>
    <button type="submit"
            class="inline-flex items-center gap-2 rounded-md px-4 py-2 bg-primary-600 hover:bg-primary-500 text-neutral font-semibold focus:outline-none focus:ring-2 focus:ring-primary-400">
      Submit
    </button>
  </div>

  <!-- Honeypot hidden field (simple spam trap) -->
  <div style="display:none">
    <label>Leave blank</label>
    <input name="website" />
  </div>
</form>

<script>
document.addEventListener('DOMContentLoaded', function () {
  var form = document.getElementById('contact-form');
  var statusEl = document.getElementById('form-status');
  if (!form) return;
  form.addEventListener('submit', async function (e) {
    e.preventDefault();
    statusEl.textContent = 'Sending...';
    var endpoint = form.getAttribute('action');
    try {
      var formData = new FormData(form);
      if (formData.get('website')) {
        statusEl.textContent = 'Submission blocked.';
        return;
      }
      var resp = await fetch(endpoint, {
        method: 'POST',
        headers: { 'Accept': 'application/json' },
        body: formData
      });
      if (resp.ok) {
        statusEl.textContent = 'Thanks! I will get back to you shortly.';
        form.reset();
      } else {
        statusEl.textContent = 'Something went wrong. Please try again later.';
      }
    } catch (err) {
      statusEl.textContent = 'Network error. Please try again.';
    }
  });
});
</script>
